{% extends 'base.html' %}
{% block content %}


<a name="Top">
<div class="row">
            <section class="col-xs-12 col-md-6 col-lg-6 col-md-offset-3 col-lg-offset-1" id="splash"">
                <h1 href="#bottom" class=page_title>reRoute</h1><a href="#bottom"></a>

            </section>
        </div>

      
<section id="testimonials">
<div class="cust-quotes">
  <blockquote data-timeout="1800"><p>The original Spanish name for San Francisco was Yerba Buena, meaning "good herb" or "good grass"</p></blockquote>
  <blockquote data-timeout="3800"><p>In Star Trek, Star Fleet HQ is located just north of San Francisco.</p></blockquote>
  <blockquote data-timeout="5800"><p>The gutters in Buena Vista Park are made from old tombstones from Lone Mountain Cemetery.</p></blockquote>
  <blockquote data-timeout="9800"><p>San Francisco is built on 43 hills.</p></blockquote>
</div>
  </section>
      

  <div id="weather"></div>
<button class="js-geolocation" style="display: none;">Use Your Location</button>

<h2> Top Rated buses </h2>
  {% for tops in top_rated %}
    <ul>
    <li>{{ tops[0] }}</li>
    </ul>
  {% endfor %}
<div id="bus_pick">
  <h3>Pick a Bus Line</h3>

    <ul class="dropdown">
    <form action='/bus_detail', method="get">
    <select name="bus">
    {% for bus in buses %}
    <option value="{{ bus.bus_name }}">{{ bus.bus_name }}</option>
    {% endfor %}
    </select>
    <br><br>
    <input type="submit">
    </form>
    </ul>
</div>

<center>
<a name="bottom">
</center>


<form action="#">
  <div>
    <input type="hidden" name="datatosendback" id="datatosendback">
  </div>
</form>

  <p class="copy">Just tell me what buses are close by</p>

<div id="geolocation">
<button onclick="showlocation(); delayredir()">Find Me</button>
</div>
<script type="text/javascript">
var lat = null
var long = null

function showlocation() {
   // One-shot position request.
   console.log('clicked');
   navigator.geolocation.getCurrentPosition(callback);
}

function callback(position) {
   lat = position.coords.latitude;
   long = position.coords.longitude
   console.log(lat, long);
   $.get('/stop_info',{'lat': lat, 'long': long})
}



function redirect() { 

window.location="/stop_info?lat=" + lat + "&long=" + long;

} 

 
function delayredir()

{
 
setTimeout('redirect()', 6000);

}

</script>






<!-- ################################################################################ -->

  

{% endblock %}